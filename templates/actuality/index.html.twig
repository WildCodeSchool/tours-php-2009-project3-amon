{% extends 'base.html.twig' %}

{% block stylesheets %}
{{ parent() }}
{{ encore_entry_link_tags('actuality') }}
{% endblock %}

{% block title %}Actualités{% endblock %}

{% block body %}
<section class="actualityContainer">
	<h1 id="gallery-title">Les Actualités</h1>
	{% for article in news %}
		<div class="article-button-container">
			{% if app.user %}
				{{ include('form/_editArticle.html.twig') }}
				{{ include('form/_deleteArticle.html.twig') }}
			{% endif %}
		</div>
		<div class="article-date">
			<p class="date">{{ article.date|date("d/m/Y") }}</p>
		</div>
		<div class="article-container">
			<div class="article-content">
				<div class="image-grid">
					{% for image in article.images %}
						<div class="article-image">
							<a href="{{ vich_uploader_asset(image, 'urlFile') }}">
              				<img class="actuality-img" src="{{ vich_uploader_asset(image, 'urlFile') }}" alt="{{ image.alternativeText }}" loading="lazy">
              				</a>
						</div>
					{% endfor %}
				</div>
				<div class="article-text">
					<h1 class="article-title">{{ article.title|capitalize }}</h1>
					<p class="article-description">{{ article.content }}</p>
				</div>
			</div>
		</div>
	{% endfor %}
</section>
{% endblock %}

{% block javascripts %}
{{ parent() }}
{{ encore_entry_script_tags('actuality') }}
{% endblock %}
